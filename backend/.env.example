# Server Configuration
PORT=4000
NODE_ENV=development
HOST=localhost

# Database (TimescaleDB/PostgreSQL)
DATABASE_URL=postgresql://postgres:password@localhost:5432/tradepulse
DB_HOST=localhost
DB_PORT=5432
DB_NAME=tradepulse
DB_USER=postgres
DB_PASSWORD=password
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT_MS=30000
DB_CONNECTION_TIMEOUT_MS=2000

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=tradepulse:

# Redpanda/Kafka Configuration
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=tradepulse-backend
KAFKA_GROUP_ID=tradepulse-consumer-group
KAFKA_SESSION_TIMEOUT=30000
KAFKA_HEARTBEAT_INTERVAL=3000
KAFKA_CONSUMER_GROUP_ID=tradepulse-consumers

# Kafka Topics
KAFKA_TOPIC_MARKET_TICKS=market-ticks
KAFKA_TOPIC_ORDER_EVENTS=order-events
KAFKA_TOPIC_RISK_EVENTS=risk-events
KAFKA_TOPIC_ALERTS=alerts

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-must-be-at-least-32-characters-long
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-super-secret-refresh-token-key-must-be-at-least-32-characters
JWT_REFRESH_EXPIRES_IN=30d
JWT_ISSUER=tradepulse-api
JWT_AUDIENCE=tradepulse-client

# SpiceDB Configuration
SPICEDB_ENDPOINT=localhost:50051
SPICEDB_TOKEN=your-spicedb-preshared-token
SPICEDB_INSECURE=true

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTHENTICATED_MAX=500

# Logging
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# API Configuration
GRAPHQL_PATH=/graphql
GRAPHQL_SUBSCRIPTIONS_PATH=/graphql/subscriptions
GRAPHQL_PLAYGROUND=true
GRAPHQL_INTROSPECTION=true

# Cache TTL (in seconds)
CACHE_TTL_MARKET_TICK=5
CACHE_TTL_ORDER_BOOK=2
CACHE_TTL_PORTFOLIO=30
CACHE_TTL_RISK_METRICS=300

# External APIs (for market data sync)
EXTERNAL_MARKET_API_URL=https://api.example.com
EXTERNAL_MARKET_API_KEY=your-api-key

# Job Scheduler Configuration
JOB_MARKET_SYNC_CRON=*/5 * * * *
JOB_RISK_CALC_CRON=*/15 * * * *
JOB_ALERT_CHECK_CRON=* * * * *

# Security
BCRYPT_ROUNDS=12
AES_ENCRYPTION_KEY=your-32-byte-aes-encryption-key-here

# Feature Flags
ENABLE_GRAPHQL_PLAYGROUND=true
ENABLE_INTROSPECTION=true
ENABLE_PERSISTED_QUERIES=true
ENABLE_AUTOMATIC_PERSISTED_QUERIES=true

# WebSocket
WS_HEARTBEAT_INTERVAL=30000
WS_MAX_CONNECTIONS=1000

# Performance
MAX_QUERY_COMPLEXITY=1000
MAX_QUERY_DEPTH=10
